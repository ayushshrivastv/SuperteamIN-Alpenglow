SPECIFICATION Spec

CONSTANTS
    Validators = {v1, v2, v3}            \* 3 validators for faster testing
    MaxSlot = 1                          \* Single slot for fastest verification
    Stake = 100                          \* Equal stake per validator
    ByzantineThreshold = 1               \* 1/3 = 33% Byzantine threshold
    WindowSize = 1                       \* Voting window size
    TimeoutLimit = 2                     \* Maximum timeout value

\* === MACHINE-VERIFIED SAFETY THEOREMS ===
INVARIANT TypeOK                        \* Type correctness
INVARIANT NoConflictingFinalization      \* THEOREM 1: No conflicting blocks per slot
INVARIANT ChainConsistencyUnderByzantine \* THEOREM 2: Chain consistency under 20% Byzantine
INVARIANT CertificateUniquenessAndNonEquivocation \* THEOREM 3: Certificate uniqueness & non-equivocation
INVARIANT DualPathFinalizationCorrectness \* THEOREM 4: 80% fast vs 60% conservative paths
INVARIANT ErasureCodingCorrectness       \* THEOREM 5: Reed-Solomon γ=3 out of Γ=6
INVARIANT BlockReconstructionCorrectness \* THEOREM 6: Block reconstruction from slices
INVARIANT TimeoutSafetyAndLiveness       \* THEOREM 7: Timeout safety and liveness

\* === COMPOSITE SAFETY PROPERTY ===
INVARIANT AllSafetyTheorems              \* All theorems must hold simultaneously

\* === LIVENESS PROPERTIES ===
\* Commented out for now - focus on safety verification
\* PROPERTY Progress                        \* System makes progress
\* PROPERTY BoundedFinalization            \* Blocks eventually finalized  
\* PROPERTY FastPathLiveness               \* Fast path with 80% participation

\* === ACTION CONSTRAINTS ===
\* Limit state space for efficient verification
CONSTRAINT StateConstraint


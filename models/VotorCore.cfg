\* CORE ALPENGLOW VOTOR VERIFICATION
\* Author: Ayush Srivastava
\* Focused on essential dual-path consensus properties

SPECIFICATION Spec

CONSTANTS
    Validators = {1, 2, 3, 4, 5}     \* 5 validators for dual-path testing
    ByzantineValidators = {5}        \* 20% Byzantine (1 out of 5)
    OfflineValidators = {}           \* No offline validators initially
    MaxView = 3                      \* Limited views for finite model
    MaxSlot = 2                      \* Multiple slots for complexity
    GST = 5                          \* Global Stabilization Time
    Delta = 2                        \* Network delay bound

\* === CORE DUAL-PATH VERIFICATION ===

\* Type safety
INVARIANT TypeInvariant

\* Essential dual-path behavior
INVARIANT FastPathBehavior          \* 4+ notar → fast certificate
INVARIANT SlowPathBehavior          \* 3+ combined → notarization
INVARIANT NoDoubleFinalizations     \* No double finalization
INVARIANT ThresholdCorrectness      \* 80% > 60% math

\* Certificate properties
INVARIANT CertificateUniqueness     \* No duplicate certificates
INVARIANT StakeBasedThresholds      \* Proper 4/5 and 3/5 thresholds

\* Byzantine fault tolerance
INVARIANT DualPathResilience        \* 20% Byzantine + 20% offline tolerance

\* Safety and consistency
INVARIANT Safety                    \* Basic safety
INVARIANT ChainConsistency          \* Chain structure valid

\* These invariants now work due to ATOMIC certificate generation
\* Certificates are generated immediately when vote thresholds are reached
INVARIANT SlowPathFinalization         \* 60% votes → immediate certificate
INVARIANT FastPathFinalization         \* 80% votes → immediate certificate
INVARIANT DualPathCompleteness         \* Sufficient votes → appropriate certificate



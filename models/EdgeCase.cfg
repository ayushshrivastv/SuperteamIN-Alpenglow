\* Author: Ayush Srivastava
\* Edge Case Configuration for Alpenglow Protocol
\* Tests extreme scenarios and edge conditions

SPECIFICATION Spec

CONSTANTS
    Validators = {v1, v2}  \* Minimum validator set
    ByzantineValidators = {}
    OfflineValidators = {v2}  \* 50% offline (extreme case)
    Stake = [v1 |-> 10, v2 |-> 1]  \* Highly skewed stake
    MaxSlot = 2
    MaxView = 10  \* High view changes
    GST = 50  \* Late stabilization
    Delta = 10  \* High network delay
    K = 1  \* Minimum K
    N = 2  \* Minimum N
    TimeoutDelta = 20  \* Large timeout
    MaxBlockSize = 1  \* Minimal block
    BandwidthPerValidator = 10  \* Limited bandwidth
    MaxMessageSize = 1
    NetworkCapacity = 20
    LeaderFunction(v, Vals) == CHOOSE x \in Vals : TRUE  \* Simple leader selection

INVARIANT TypeOK
INVARIANT Safety
    
PROPERTY Progress
    
\* State space constraint to limit model checking
CONSTRAINT
    /\ currentSlot <= MaxSlot
    /\ clock <= 100
    /\ Cardinality(messages) <= 50
    
\* Test with extreme parameters
INIT Init
NEXT Next

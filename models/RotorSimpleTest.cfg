SPECIFICATION Spec

CONSTANTS
    Validators = {v1, v2, v3, v4, v5}     \* 5 validators for proper erasure coding
    MaxBlocks = 3                        \* More blocks for complexity
    Stake = 100                          \* Equal stake for simplicity
    WindowSize = 4                       \* Larger window
    TimeoutLimit = 3                     \* Higher timeout
    Gamma = 3                            \* γ = minimum shreds needed (3 out of 6)
    BigGamma = 6                         \* Γ = total shreds generated (6)
    Kappa = 2                            \* κ = over-provisioning factor (5/3 ≈ 1.67, use 2)

\* === WHITEPAPER SECTION 2.1 DEFINITIONS ===
INVARIANT ShredStructureValidity        \* Shred (s,t,i,zt,rt,(di,πi),σt) structure
INVARIANT SliceStructureValidity        \* Slice (s,t,zt,rt,Mt,σt) structure
INVARIANT BlockStructureValidity        \* Block sequence of slices with parent info
INVARIANT MerkleRootConsistency         \* Merkle roots properly generated
INVARIANT LeaderSignatureValidity       \* Leader signatures on slices

\* === CORE ERASURE CODING PROPERTIES ===
INVARIANT ErasureCodingCorrectness      \* γ out of Γ shreds sufficient
INVARIANT OverProvisioningFactor        \* κ = Γ/γ > 5/3
INVARIANT SliceReconstructionProperty   \* Slices reconstructible from γ shreds
INVARIANT BlockReconstructionProperty   \* Blocks reconstructible from slices
INVARIANT StakeWeightedRelaySelection   \* Relays chosen proportional to stake

\* === LATENCY AND BANDWIDTH PROPERTIES ===
INVARIANT LatencyBounds                 \* δ to 2δ latency bounds
INVARIANT BandwidthOptimality          \* Forwarding ∝ stake
INVARIANT StreamingCapability          \* Slices sent as ready

\* === BASIC SAFETY PROPERTIES ===
INVARIANT Safety
INVARIANT ChainConsistency
INVARIANT CertificateUniqueness
INVARIANT LeaderRotation

CONSTRAINT ActionConstraint

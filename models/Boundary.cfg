\* Author: Ayush Srivastava
\* Boundary Test Configuration for Alpenglow Protocol
\* Tests edge cases and boundary conditions

SPECIFICATION Spec

CONSTANTS
    Validators = {v1, v2, v3}
    ByzantineValidators = {v1}  \* Maximum Byzantine (33%)
    OfflineValidators = {}
    Stake = [v1 |-> 1, v2 |-> 1, v3 |-> 1]  \* Equal stake
    MaxSlot = 3
    MaxView = 5
    GST = 10
    Delta = 2
    K = 2  \* Minimum for erasure coding
    N = 3
    TimeoutDelta = 5
    MaxBlockSize = 100
    BandwidthPerValidator = 50
    MaxMessageSize = 10
    NetworkCapacity = 2000
    LeaderFunction(v, Vals) == CHOOSE x \in Vals : TRUE  \* Simple leader selection
    Leader = v1  \* Initial leader

INVARIANT TypeOK
INVARIANT Safety
    
PROPERTY Progress
    
\* State space constraint to limit model checking
CONSTRAINT
    /\ currentSlot <= MaxSlot
    /\ \A v \in Validators : votorView[v] <= MaxView
    /\ Cardinality(messages) <= 200
    
\* Check Byzantine threshold boundary
INIT Init
NEXT Next
